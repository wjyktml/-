<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>支付成功 - NextsPay</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/element.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style-5.css">
    <style>
        .success-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .success-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        .success-icon {
            font-size: 80px;
            color: #52c41a;
            margin-bottom: 20px;
        }
        .success-title {
            font-size: 28px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }
        .success-message {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .order-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 5px 0;
        }
        .info-item:last-child {
            margin-bottom: 0;
        }
        .info-label {
            font-weight: 500;
            color: #333;
        }
        .info-value {
            color: #666;
        }
        .btn-group {
            margin-top: 30px;
        }
        .btn {
            margin: 0 10px;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="success-container">
        <div class="success-card">
            <div class="success-icon">
                <i class="fa fa-check-circle"></i>
            </div>
            <h1 class="success-title">支付成功！</h1>
            <p class="success-message">
                感谢您的支付，订单已处理完成。<br>
                我们会尽快为您安排发货或提供服务。
            </p>
            
            <div class="order-info" id="orderInfo">
                <div class="info-item">
                    <span class="info-label">订单号：</span>
                    <span class="info-value" id="orderNo">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">支付金额：</span>
                    <span class="info-value" id="amount">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">支付方式：</span>
                    <span class="info-value" id="paymentType">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">支付时间：</span>
                    <span class="info-value" id="payTime">-</span>
                </div>
            </div>
            
            <div class="btn-group">
                <a href="index.html" class="btn btn-primary">返回首页</a>
                <a href="javascript:void(0)" class="btn btn-outline-secondary" onclick="printPage()">打印凭证</a>
            </div>
        </div>
    </div>

    <script src="js/jquery.js"></script>
    <script src="js/util.js"></script>
    <script>
        // 获取URL参数
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                order_no: params.get('order_no') || '',
                amount: params.get('amount') || '',
                payment_type: params.get('payment_type') || '',
                pay_time: params.get('pay_time') || ''
            };
        }
        
        // 显示订单信息
        function displayOrderInfo() {
            const params = getUrlParams();
            
            document.getElementById('orderNo').textContent = params.order_no || 'N/A';
            document.getElementById('amount').textContent = params.amount ? '¥' + params.amount : 'N/A';
            document.getElementById('paymentType').textContent = getPaymentTypeName(params.payment_type);
            document.getElementById('payTime').textContent = params.pay_time || new Date().toLocaleString('zh-CN');
        }
        
        // 获取支付方式名称
        function getPaymentTypeName(type) {
            const types = {
                'wechat': '微信支付',
                'alipay': '支付宝',
                'unionpay': '银联支付',
                'apple_pay': 'Apple Pay'
            };
            return types[type] || type || 'N/A';
        }
        
        // 打印页面
        function printPage() {
            window.print();
        }
        
        // 页面加载完成后显示订单信息
        document.addEventListener('DOMContentLoaded', function() {
            displayOrderInfo();
        });
    </script>
</body>
</html>
